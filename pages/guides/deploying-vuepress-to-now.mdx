import Guide from '~/components/layout/guide'
import { TerminalInput } from '~/components/text/terminal'
import { InlineCode } from '~/components/text/code'
import Caption from '~/components/text/caption'
import Card from '~/components/card'

export const meta = {
  title: 'Creating and Deploying a VuePress project with Now',
  description: 'How to deploy your VuePress application to Now',
  published: '2019-01-26T03:00:00.860Z',
  authors: ['unicodeveloper'],
  url: '/guides/deploying-vuepress-to-now',
  editUrl: 'pages/guides/deploying-vuepress-to-now.mdx',
  lastEdited: '2019-07-20T00:10:25.000Z'
}

VuePress is a vue-powered static generator. It is used for generating static sites with a focus on writing.

This guide will cover how to create and deploy a VuePress application to ZEIT Now.

Already have a VuePress project? [Skip to deploying](#step-3:-deploy-vuepress-with-now)!

## Step 1: Getting Started with VuePress

The first step is to create a project and `cd` into it via your terminal.

<TerminalInput>mkdir vuepress-project && cd vuepress-project</TerminalInput>

Next, install VuePress as a [local dev dependency](https://yarnpkg.com/en/docs/usage). Use the following command:

<TerminalInput>yarn add --dev vuepress</TerminalInput>

Once the dependencies are installed, create a `README.md` with the following contents:

```markdown
# Hello From Vuepress on Now 2.0!
```

Next, create a `guide` directory within the project and add a `README.md` file with the following code:

```markdown
# Guides

This page lists and describes your project with guides!
```

## Step 2: Configure and Run VuePress

We have created a few documentation files. Now, we are ready to configure VuePress.

With a few documentation pages created, you now need to configure VuePress.

Create a `.vuepress` folder inside the project directory with a `config.js` file and insert the following code:

```js
module.exports = {
  title: 'My VuePress Project',
  description: 'A simple VuePress project deployed with ZEIT Now.',
  themeConfig: {
    nav: [{ text: 'Home', link: '/' }, { text: 'Guide', link: '/guides/' }]
  },
  dest: 'dist'
}
```

<Caption>
  A <InlineCode>config.js</InlineCode> configuration file.
</Caption>

Next, add both a development and build script to the `package.json` file in the root project directory.

```js
{
    ...
    "scripts": {
      "dev": "vuepress dev",
      "build": "vuepress build"
    }
}
```

<Caption>
  Adding development and build scripts to the{' '}
  <InlineCode>package.json</InlineCode> file.
</Caption>

Now, you can run VuePress by [replicating the Now environment locally](/docs/v2/development/basics/) with **just a single command**:

<TerminalInput>now dev</TerminalInput>
<Caption>
  Running the application locally with the <InlineCode>now dev</InlineCode>{' '}
  command.
</Caption>

## Step 3: Deploy VuePress with Now

With your project set up, you are ready to deploy your VuePress app with [Now](/now).

If you have not yet installed Now, you can do so by installing the [Now Desktop app](/docs/v2/getting-started/installation/#now-desktop) which installs Now CLI automatically, or by [installing Now CLI](/docs/v2/getting-started/installation/#now-cli) directly.

Just like local development with `now dev`, you can deploy your VuePress application with **just a single command**:

<TerminalInput>now</TerminalInput>

<Caption>
  Deploying the application with the <InlineCode>now</InlineCode> command.
</Caption>

When your app is deployed, you will receive a deployment URL like the following: <https://vuepress-nv3m85eee.now.sh/>

If you want to deploy your VuePress project when you push to a Git repository, you can use either [Now for GitHub](/docs/v2/integrations/now-for-github/) or [Now for GitLab](/docs/v2/integrations/now-for-gitlab/) to have your project automatically deployed on every push, and aliased on push to master.

## Resources

For more information on configuring VuePress, please refer to [their documentation](https://vuepress.vuejs.org/guide/).

To configure Now further, please see these additional topics and guides:

<Card title="Deploying Basics" href="/docs/v2/deployments/basics">
  Deploy any of your applications with ZEIT Now.
</Card>

<Card
  title="Aliasing"
  href="/docs/v2/custom-domains#deploying-with-your-domain"
>
  Learn more about aliasing to your deployments.
</Card>

<Card title="www. Redirect" href="/guides/redirect-from-www">
  Create a redirect from the www. subdomain to your naked domain.
</Card>

export default ({ children }) => <Guide meta={meta}>{children}</Guide>

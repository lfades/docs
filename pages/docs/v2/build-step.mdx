import Doc from '~/components/layout/docs'
import { TerminalInput } from '~/components/text/terminal'
import { GenericLink } from '~/components/text/link'
import Caption from '~/components/text/caption'
import Now from '~/components/text/now'
import Note from '~/components/text/note'
import Card from '~/components/card'
import { InlineCode } from '~/components/text/code'
import { P } from '~/components/text/paragraph'

export const meta = {
  title: 'Build Step',
  description: 'Providing ZEIT Now with a build step.',
  editUrl: 'pages/docs/v2/build-step.mdx',
  lastEdited: '2019-07-19T11:48:23.000Z'
}

To build your project, Now looks for a build script inside of a `package.json` file.

By providing a build script, Now will build your project from fresh on every deployment.

## Build Environment Variables

To provide your project with environment variables during the build script, you should create a `now.json` file like the one below:

```json
{
  "build": {
    "env": {
      "VARIABLE_NAME": "@environment-variable-name"
    }
  }
}
```

<Caption>
  An example <InlineCode>now.json</InlineCode> file that provides an
  application's build process with a defined environment variable.
</Caption>

To define an environment variable, you should use **Now Secrets**. By using **Now Secrets**, the data will be encrypted and stored securely, no longer directly accessible by anyone, and only exposed to deployments as environment variables.

To **define a Now Secret**, use the following command:

<TerminalInput><P.B>now secrets add </P.B>secret-name secret-value</TerminalInput>
<Caption>Defining a <P.B>Now Secret</P.B> using <GenericLink href="/now">Now CLI</GenericLink>.</Caption>

To **remove a Now Secret**, use the following command:

<TerminalInput><P.B>now secrets rm </P.B>secret-name</TerminalInput>
<Caption>Removing a <P.B>Now Secret</P.B> using <GenericLink href="/now">Now CLI</GenericLink>.</Caption>

To **rename a Now Secret**, use the following command:

<TerminalInput><P.B>now secrets rename </P.B>secret-name new-name</TerminalInput>
<Caption>Renaming a <P.B>Now Secret</P.B> using <GenericLink href="/now">Now CLI</GenericLink>.</Caption>

## Related

For more information on what to do next, we recommend the following articles:

<Card
  title="Aliasing Your Projects"
  href="/docs/v2/domains-and-aliases/aliasing-a-deployment"
>
  Once deployed, your projects can be aliased to a custom domain or specified
  name or your choice to give it a primary place to see the latest version of
  your application.
</Card>

<Card title="Deployment Basics" href="/docs/v2/deployment/deployment-basics">
  Learn more about deploying application with ZEIT Now and how you can extend
  your workflow to get the most out of your projects.
</Card>

export default ({ children }) => <Doc meta={meta}>{children}</Doc>

import { withAmp } from 'next/amp'
import Doc from '~/components/layout/docs'

export const meta = {
  title: 'Frequently Asked Questions',
  description: 'A list of frequently asked questions relating to deployments.',
  editUrl: 'pages/docs/v2/advanced/platform/frequently-asked-questions.mdx',
  lastEdited: '2019-07-19T22:43:36.000Z'
}

## Missing Public Directory

If your project contains a `package.json` file with a `build` [script](https://docs.npmjs.com/misc/scripts), it is expected to output its static files into a directory named `public`, at the root of the project, when the `build` [script](https://docs.npmjs.com/misc/scripts) is executed.

You are seeing this error because your setup did not satisfy the above constraint.

To resolve this error, configure your project to place its static output files into a `public` directory, at the root of your project, when the `build` [script](https://docs.npmjs.com/misc/scripts) from your `package.json` file is invoked.

For example, this is how your `package.json` file might look:

```json
{
  "scripts": {
    "build": "my-framework build"
  }
}
```

If you are seeing this error with a similar `build` script already, you may need to adjust the command to direct its static output files into the `public` directory instead.

Depending on your framework, the option for this might be called `--output`, `--out`, `--output-dir` or similar:

```json
{
  "scripts": {
    "build": "my-framework build --output public"
  }
}
```

Once you have done this, the error will disappear since the output will be the expected directory, `public`.

## Missing Build Script

If your project contains a `package.json` file, it is expected to provide a `build` [script](https://docs.npmjs.com/misc/scripts) that performs a static build of your frontend and outputs it to a `public` directory at the root of your project.

When properly configured, your `package.json` file would look similar to this:

```json
{
  "scripts": {
    "build": "my-framework build --output public"
  }
}
```

Once you have defined the `build` [script](https://docs.npmjs.com/misc/scripts), this warning will disappear. Furthermore, it will not be displayed if you are using `package.json` purely to provide dependencies for your serverless functions located inside the `api` directory.

export default withAmp(({ children }) => <Doc meta={meta}>{children}</Doc>, {
  hybrid: true
})
